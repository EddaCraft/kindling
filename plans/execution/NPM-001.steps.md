# Steps: NPM-001

| Field      | Value                                                                |
| ---------- | -------------------------------------------------------------------- |
| Source     | [../modules/npm-publishing.aps.md](../modules/npm-publishing.aps.md) |
| Task(s)    | NPM-001 â€” Add package metadata to all package.json files             |
| Created by | @aneki / AI                                                          |
| Status     | Draft                                                                |

## Why This Matters

Complete package metadata ensures npm packages are discoverable, properly attributed, and link back to the source repository. Missing metadata results in poor npm search rankings and makes it harder for users to find documentation or report issues.

## What We're Building

Consistent metadata across all 6 packages:

- `author` field for attribution
- `repository` field with directory for monorepo
- `keywords` for npm search discoverability
- `homepage` linking to repository
- `bugs` URL for issue reporting

## Prerequisites

- [ ] All packages exist in `packages/` directory
- [ ] Package names are scoped (`@kindling/*`)

## Steps

### 1. Define metadata template

- **Why:** Consistency across all packages
- **What:** Standard metadata structure
- **Checkpoint:** Template defined:
  ```json
  {
    "author": "EddaCraft",
    "repository": {
      "type": "git",
      "url": "https://github.com/EddaCraft/kindling.git",
      "directory": "packages/<package-dir>"
    },
    "homepage": "https://github.com/EddaCraft/kindling",
    "bugs": {
      "url": "https://github.com/EddaCraft/kindling/issues"
    },
    "keywords": ["kindling", ...]
  }
  ```
- **Validate:** Template is valid JSON

### 2. Update @eddacraft/kindling-core package.json

- **Why:** Core package is the foundation
- **What:** Add metadata to kindling-core
- **Checkpoint:** `packages/kindling-core/package.json`:
  - author: "EddaCraft"
  - repository with directory: "packages/kindling-core"
  - keywords: ["kindling", "ai", "memory", "context", "capsule", "observation"]
  - homepage and bugs fields present
- **Validate:** `node -e "require('./packages/kindling-core/package.json')"`

### 3. Update @eddacraft/kindling-store-sqlite package.json

- **Why:** Storage package needs metadata
- **What:** Add metadata to kindling-store-sqlite
- **Checkpoint:** `packages/kindling-store-sqlite/package.json`:
  - author: "EddaCraft"
  - repository with directory: "packages/kindling-store-sqlite"
  - keywords: ["kindling", "sqlite", "fts5", "storage", "persistence", "database"]
  - homepage and bugs fields present
- **Validate:** `node -e "require('./packages/kindling-store-sqlite/package.json')"`

### 4. Update @eddacraft/kindling-provider-local package.json

- **Why:** Provider package needs metadata
- **What:** Add metadata to kindling-provider-local
- **Checkpoint:** `packages/kindling-provider-local/package.json`:
  - author: "EddaCraft"
  - repository with directory: "packages/kindling-provider-local"
  - keywords: ["kindling", "retrieval", "search", "fts", "ranking", "provider"]
  - homepage and bugs fields present
- **Validate:** `node -e "require('./packages/kindling-provider-local/package.json')"`

### 5. Update @eddacraft/kindling-adapter-opencode package.json

- **Why:** Adapter package needs metadata
- **What:** Add metadata to kindling-adapter-opencode
- **Checkpoint:** `packages/kindling-adapter-opencode/package.json`:
  - author: "EddaCraft"
  - repository with directory: "packages/kindling-adapter-opencode"
  - keywords: ["kindling", "opencode", "adapter", "integration", "ai", "memory"]
  - homepage and bugs fields present
- **Validate:** `node -e "require('./packages/kindling-adapter-opencode/package.json')"`

### 6. Update @eddacraft/kindling-adapter-pocketflow package.json

- **Why:** PocketFlow adapter needs metadata
- **What:** Add metadata to kindling-adapter-pocketflow
- **Checkpoint:** `packages/kindling-adapter-pocketflow/package.json`:
  - author: "EddaCraft"
  - repository with directory: "packages/kindling-adapter-pocketflow"
  - keywords: ["kindling", "pocketflow", "workflow", "agent", "nodes", "integration"]
  - homepage and bugs fields present
- **Validate:** `node -e "require('./packages/kindling-adapter-pocketflow/package.json')"`

### 7. Update @eddacraft/kindling-cli package.json

- **Why:** CLI package needs metadata
- **What:** Add metadata to kindling-cli
- **Checkpoint:** `packages/kindling-cli/package.json`:
  - author: "EddaCraft"
  - repository with directory: "packages/kindling-cli"
  - keywords: ["kindling", "cli", "command-line", "memory", "debugging"]
  - homepage and bugs fields present
- **Validate:** `node -e "require('./packages/kindling-cli/package.json')"`

### 8. Validate all packages

- **Why:** Ensure consistency and completeness
- **What:** Run validation across all packages
- **Checkpoint:** All packages pass metadata validation:
  ```bash
  pnpm -r exec -- node -e "
    const p=require('./package.json');
    if(!p.author) throw 'missing author';
    if(!p.repository) throw 'missing repository';
    if(!p.keywords) throw 'missing keywords';
    if(!p.homepage) throw 'missing homepage';
    if(!p.bugs) throw 'missing bugs';
    console.log(p.name + ': OK');
  "
  ```
- **Validate:** All 6 packages output "OK"

## Completion

- [ ] All checkpoints validated
- [ ] Task marked complete in source module

**Completed by:** \_\_\_
